<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="last-modified" content="2018-03-19 21:57:08 +0000">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- meta "search-domain" used for google site search function google_search() -->
    <meta name="search-domain" value="">
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/lesson.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/syntax.css" />
    
    <link rel="shortcut icon" type="image/x-icon" href="/favicon-dc.ico" />
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
    <title>Introduction to Spatio-Temporal Data: Intro to Spatial Metadata -- Spatial Resolution and Spatial Extent</title>
  </head>
  <body>
    <div class="container">
      
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      
      

      
      <a class="navbar-brand" href="../">Home</a>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

	
        <li><a href="../conduct/">Code of Conduct</a></li>

        
	
        <li><a href="../setup.html">Setup</a></li>

        
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Episodes <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            <li><a href="../00-spatio-temporal-science-questions/">Answer a Spatio-temporal Research Question with Data - Where to Start?</a></li>
            
            <li><a href="../01-spatial-data-landscape/">The Spatial Data Landscape</a></li>
            
            <li><a href="../02-spatial-data-formats/">Spatial Data Formats -- Intro to Shapefiles (Vector Data) and GeoTIFFs (Raster Data)</a></li>
            
            <li><a href="../03-metadata-formats-and-files/">Data About Data -- Intro to Metadata File Formats and Structure</a></li>
            
            <li><a href="../04-intro-CRS-projection/">Intro to Coordinate Reference Systems & Spatial Projections</a></li>
            
            <li><a href="../05-geographic-vs-projected-CRS/">Introduction to the UTM Projected CRS and a Brief overview of datums</a></li>
            
            <li><a href="../06-CRS-formats-proj4-EPSG/">A Quick Overview of CRS Formats - Proj4 & EPSG - in R</a></li>
            
            <li><a href="../07-spatial-resolution-extent/">Intro to Spatial Metadata -- Spatial Resolution and Spatial Extent</a></li>
            
            <li><a href="../08-clean-data-bad-and-missing-values/">Cleaning Data -- Missing and Bad Data Values</a></li>
            
            <li><a href="../09-set-r-work-environment/">R Packages for Spatial-temporal Data -- Setting Up Your Working Environment</a></li>
            
	    <li role="separator" class="divider"></li>
            <li><a href="../aio.html">All in one page (Beta)</a></li>
          </ul>
        </li>
	

	
	
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Extras <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="../reference.html">Reference</a></li>
            
          </ul>
        </li>
	

	
        <li><a href="../LICENSE.md">License</a></li>
	
	
	<li><a href="/edit/gh-pages/_episodes_rmd/07-spatial-resolution-extent.Rmd">Improve this page <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></li>
	
	
      </ul>
      <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search..." aria-label="Google site search">
        </div>
      </form>
    </div>
  </div>
</nav>


<div class="row">
  <div class="col-xs-1">
    <h3 class="text-left">
      
      <a href="../06-CRS-formats-proj4-EPSG/"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      
    </h3>
  </div>
  <div class="col-xs-10">
    
    <h3 class="maintitle"><a href="../">Introduction to Spatio-Temporal Data</a></h3>
    
  </div>
  <div class="col-xs-1">
    <h3 class="text-right">
      
      <a href="../08-clean-data-bad-and-missing-values/"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      
    </h3>
  </div>
</div>

<article>
<div class="row">
  <div class="col-md-1">
  </div>
  <div class="col-md-10">
    <h1 class="maintitle">Intro to Spatial Metadata -- Spatial Resolution and Spatial Extent</h1>
  </div>
  <div class="col-md-1">
  </div>
</div>


<blockquote class="objectives">
  <h2>Overview</h2>

  <div class="row">
    <div class="col-md-3">
      <strong>Teaching:</strong> 30 min
      <br/>
      <strong>Exercises:</strong> 30 min
    </div>
    <div class="col-md-9">
      <strong>Questions</strong>
      <ul>
	
	<li><p>TBD</p>
</li>
	
      </ul>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-9">
      <strong>Objectives</strong>
      <ul>
	
	<li><p>TBD</p>
</li>
	
      </ul>
    </div>
  </div>

</blockquote>

<h2 id="about">About</h2>

<p>This lesson covers the key spatial attributes that are needed to work with
spatial data including: Coordinate Reference Systems (CRS), Extent and spatial resolution.</p>

<p><strong>R Skill Level:</strong> Beginner - you’ve got the basics of <code class="highlighter-rouge">R</code> down.</p>

<h1 id="goals--objectives">Goals / Objectives</h1>

<p>After completing this activity, you will:</p>

<ul>
  <li>Understand that there are necessary spatial metadata associated with and/or
embedded in the data</li>
  <li>Understand that there is potentially ancillary data associated with individual
elements in vector data files (like NEON tower data (point), road (line), watershed (polygon)).</li>
</ul>

<h2 id="things-youll-need-to-complete-this-lesson">Things You’ll Need To Complete This Lesson</h2>
<p>To complete this lesson you will need the most current version of R, and
preferably, RStudio loaded on your computer.</p>

<h3 id="install-r-packages">Install R Packages</h3>

<ul>
  <li>
    <p><strong>NAME:</strong> <code class="highlighter-rouge">install.packages("NAME")</code></p>
  </li>
  <li>
    <p><a href="R/Packages-In-R/">More on Packages in R - Adapted from Software Carpentry.</a></p>
  </li>
</ul>

<h3 id="download-data">Download Data</h3>

<p><strong>Spatial-Temporal Data &amp; Data Management Lesson Series:</strong> This lesson is part
of a lesson series introducing
<a href="tutorial/URL">spatial data and data management in <code class="highlighter-rouge">R</code> </a>.
It is also part of a larger
<a href="workshops/spatio-temporal-workshop">spatio-temporal Data Carpentry Workshop </a>
that includes working with<br />
<a href="tutorial/spatial-raster-series">raster data in <code class="highlighter-rouge">R</code> </a>,
<a href="tutorial/spatial-vector-series">vector data in <code class="highlighter-rouge">R</code> </a>
and<br />
<a href="tutorial/tabular-time-series">tabular time series in <code class="highlighter-rouge">R</code> </a>.</p>

<h3 id="additional-resources">Additional Resources</h3>
<ul>
  <li>Read more on coordinate systems in the
<a href="http://docs.qgis.org/2.0/en/docs/gentle_gis_introduction/coordinate_reference_systems.html" target="_blank">
QGIS documentation.</a></li>
  <li>NEON Data Skills Lesson <a href="/GIS-Spatial-Data/Working-With-Rasters/" target="_blank">The Relationship Between Raster Resolution, Spatial extent &amp; Number of Pixels - in R</a></li>
</ul>

<h2 id="spatial-metadata">Spatial Metadata</h2>
<p>There are three core spatial metadata elements that are crucial to understand
in order to effectively work with spatial data:</p>

<ul>
  <li><strong>Coordinate Reference System</strong> (CRS),</li>
  <li><strong>Extent</strong></li>
  <li><strong>Resolution</strong></li>
</ul>

<h2 id="spatial-extent">Spatial Extent</h2>
<p>The spatial extent of a spatial object is just how much area does it cover. A
map of Paris has a smaller spatial extent than a map of all of France.</p>

<h3 id="units">Units</h3>
<p>The units of the extent are defined by the coordinate system that the spatial
data is in.</p>

<h3 id="extent-in-vector-data">Extent in Vector Data</h3>
<p>GRAPHIC FROM COLIN</p>

<h3 id="extent-in-raster-data">Extent in Raster Data</h3>
<p>The spatial extent of a raster, represents the x,y coordinates of the corners
of the raster in geographic space. This information, in addition to the cell
size or spatial resolution, tells the program how to place or render each pixel
in 2 dimensional space.  Tools like <code class="highlighter-rouge">R</code>, using supporting packages such as
<code class="highlighter-rouge">rgdal</code>, and associated raster tools have functions that allow you to view and
define the extent of a new raster.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># View the extent of the raster</span><span class="w">
</span><span class="n">DEM</span><span class="o">@</span><span class="n">extent</span><span class="w">
</span></code></pre></div></div>

<div class="error highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Error in eval(expr, envir, enclos): object 'DEM' not found
</code></pre></div></div>

<figure>
    <a href="/images/hyperspectral/pixelDetail.png">
    <img src="/images/hyperspectral/pixelDetail.png" /></a>
    <figcaption>The spatial resolution of a raster refers the size of each cell
    in meters. This size in turn relates to the area on the ground that the pixel
    represents.</figcaption>
</figure>

<figure>
    <img src="/images/spatialData/raster2.png" />
    <figcaption>If you double the extent value of a raster - the pixels will be
    stretched over the larger area making it look more "blury".
    </figcaption>
</figure>

<h3 id="calculating-raster-extent">Calculating Raster Extent</h3>
<p>To calculate the extent of a raster, we first need the bottom left x,y
coordinate of the raster. In
the case of the UTM coordinate system which is in meters, to calculate
the raster’s extent, we can add the number of columns and rows to the x,y corner
coordinate location of the raster, multiplied by the resolution (the pixel size)
of the raster.</p>

<p>Let’s explore that next.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># create a raster from the matrix</span><span class="w">
</span><span class="n">myRaster1</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">raster</span><span class="p">(</span><span class="n">nrow</span><span class="o">=</span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="n">ncol</span><span class="o">=</span><span class="m">4</span><span class="p">)</span><span class="w">

</span><span class="c1"># assign some random data to the raster</span><span class="w">
</span><span class="n">myRaster1</span><span class="p">[]</span><span class="o">&lt;-</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="n">ncell</span><span class="p">(</span><span class="n">myRaster1</span><span class="p">)</span><span class="w">

</span><span class="c1"># view attributes of the raster</span><span class="w">
</span><span class="n">myRaster1</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class       : RasterLayer 
dimensions  : 4, 4, 16  (nrow, ncol, ncell)
resolution  : 90, 45  (x, y)
extent      : -180, 180, -90, 90  (xmin, xmax, ymin, ymax)
coord. ref. : +proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0 
data source : in memory
names       : layer 
values      : 1, 16  (min, max)
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># is the CRS defined?</span><span class="w">
</span><span class="n">myRaster1</span><span class="o">@</span><span class="n">crs</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>CRS arguments:
 +proj=longlat +datum=WGS84 +ellps=WGS84 +towgs84=0,0,0 
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># what are the data extents?</span><span class="w">
</span><span class="n">myRaster1</span><span class="o">@</span><span class="n">extent</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class       : Extent 
xmin        : -180 
xmax        : 180 
ymin        : -90 
ymax        : 90 
</code></pre></div></div>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">plot</span><span class="p">(</span><span class="n">myRaster1</span><span class="p">,</span><span class="w"> </span><span class="n">main</span><span class="o">=</span><span class="s2">"Raster with 16 pixels"</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p><img src="../fig/rmd-07-calculate-raster-extent-1.png" title="plot of chunk calculate-raster-extent" alt="plot of chunk calculate-raster-extent" style="display: block; margin: auto;" /></p>

<h2 id="spatial-resolution">Spatial Resolution</h2>
<p>A raster consists of a series of pixels, each with the same dimensions
and shape. In the case of rasters derived from airborne sensors, each pixel
represents an area of space on the Earth’s surface. The size of the area on the
surface that each pixel covers is known as the spatial resolution of the image.
For instance, an image that has a 1 m spatial resolution means that each pixel in
the image represents a 1 m x 1 m area.</p>

<figure>
    <a href="/images/hyperspectral/pixelDetail.png">
    <img src="/images/hyperspectral/pixelDetail.png" /></a>
    <figcaption>The spatial resolution of a raster refers the size of each cell
    in meters. This size in turn relates to the area on the ground that the pixel
    represents.</figcaption>
</figure>

<figure>
    <img src="/images/spatialData/raster1.png" />
    <figcaption>A raster at the same extent with more pixels will have a higher
    resolution (it looks more "crisp"). A raster that is stretched over the same
    extent with fewer pixels will look more blury and will be of lower resolution.
    </figcaption>
</figure>

<p>Let’s open up a raster in <code class="highlighter-rouge">R</code> to see how the attributes are stored.</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#load raster library</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">raster</span><span class="p">)</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">rgdal</span><span class="p">)</span><span class="w">

</span><span class="c1"># Load raster in an R object called 'DEM'</span><span class="w">
</span><span class="n">DEM</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">raster</span><span class="p">(</span><span class="s2">"data/NEON-DS-Airborne-Remote-Sensing/SJER/DTM/SJER_dtmCrop.tif"</span><span class="p">)</span><span class="w">  

</span><span class="c1"># View raster attributes</span><span class="w">
</span><span class="n">DEM</span><span class="w">
</span></code></pre></div></div>

<div class="output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class       : RasterLayer 
dimensions  : 2178, 2005, 4366890  (nrow, ncol, ncell)
resolution  : 1, 1  (x, y)
extent      : 255693, 257698, 4109511, 4111689  (xmin, xmax, ymin, ymax)
coord. ref. : +proj=utm +zone=11 +datum=WGS84 +units=m +no_defs +ellps=WGS84 +towgs84=0,0,0 
data source : /home/travis/build/datacarpentry/r-spatial-data-management-intro/_episodes_rmd/data/NEON-DS-Airborne-Remote-Sensing/SJER/DTM/SJER_dtmCrop.tif 
names       : SJER_dtmCrop 
values      : 338.93, 496.31  (min, max)
</code></pre></div></div>

<p>Notice that this raster (in GeoTIFF format) already has defined:</p>

<ul>
  <li>extent</li>
  <li>resolution (1 in both x and y directions), and</li>
  <li>CRS (units in meters).</li>
</ul>

<p>For more on the relationship between extent &amp; resolution, visit</p>

<p>http://neondataskills.org/GIS-Spatial-Data/Working-With-Rasters/</p>

<hr />
<hr />

<p>##Additional Resources</p>

<p>ESRI help on CRS
QGIS help on CRS
NCEAS cheatsheets</p>


<blockquote class="keypoints">
  <h2>Key Points</h2>
  <ul>
    
    <li><p>TBD</p>
</li>
    
  </ul>
</blockquote>

</article>

<div class="row">
  <div class="col-xs-1">
    <h3 class="text-left">
      
      <a href="../06-CRS-formats-proj4-EPSG/"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span><span class="sr-only">previous episode</span></a>
      
    </h3>
  </div>
  <div class="col-xs-10">
    
  </div>
  <div class="col-xs-1">
    <h3 class="text-right">
      
      <a href="../08-clean-data-bad-and-missing-values/"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span><span class="sr-only">next episode</span></a>
      
    </h3>
  </div>
</div>


      
      
<footer>
  <div class="row">
    <div class="col-md-6" align="left">
      <h4>
	Copyright &copy; 2016–2018
	
	<a href="http://datacarpentry.org">Data Carpentry</a>
	
      </h4>
    </div>
    <div class="col-md-6" align="right">
      <h4>
	
	
	<a href="/edit/gh-pages/_episodes_rmd/07-spatial-resolution-extent.Rmd">Edit on GitHub</a>
	
	
	/
	<a href="/blob/gh-pages/CONTRIBUTING.md">Contributing</a>
	/
	<a href="/">Source</a>
	/
	<a href="/blob/gh-pages/CITATION">Cite</a>
	/
	<a href="mailto:lessons@software-carpentry.org">Contact</a>
      </h4>
    </div>
  </div>
</footer>

      
    </div>
    
<script src="../assets/js/jquery.min.js"></script>
<script src="../assets/js/bootstrap.min.js"></script>
<script src="../assets/js/lesson.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-37305346-2', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
